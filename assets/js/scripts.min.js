jQuery(document).ready(function(c){c(".wpsi-table").each(function(){c(this).DataTable({pageLength:5,conditionalPaging:true,dom:'frt<"table-footer"p><"clear">',buttons:["csv","excel"],language:{paginate:{previous:"First",next:"Last"},emptyTable:"No searches recorded yet!"},order:[[1,"desc"]]})});var e="#"+window.location.hash.substr(1);c("ul.tabs li").click(function(){var g=c(this).attr("data-tab");c("ul.tabs li").removeClass("current");c(".tab-content").removeClass("current");c(this).addClass("current");c("#"+g).addClass("current")});var a=c(".tab-settings").attr("href");if(a===e){c(".tab-settings")[0].click();window.location.href=a}var d=JSON.parse(localStorage.getItem("formValues"))||{};var b=c("#wpsi-toggle-dashboard :checkbox");if(localStorage.getItem("wpsiDashboardDefaultsSet")===null){console.log("localstorage default not set, enable all");b.each(function(){d[this.id]="checked"});localStorage.setItem("formValues",JSON.stringify(d));localStorage.setItem("wpsiDashboardDefaultsSet","set")}b.on("change",function(){f()});function f(){b.each(function(){d[this.id]=this.checked});localStorage.setItem("formValues",JSON.stringify(d))}c.each(d,function(g,h){c("#"+g).prop("checked",h)});c("#wpsi-toggle-dashboard").hide();c("#wpsi-show-toggles").click(function(){if(c("#wpsi-toggle-dashboard").is(":visible")){c("#wpsi-toggle-dashboard").hide();c("#wpsi-toggle-arrows").attr("class","dashicons dashicons-arrow-down")}else{c("#wpsi-toggle-dashboard").show();c("#wpsi-toggle-arrows").attr("class","dashicons dashicons-arrow-up")}});c("#wpsi-delete-selected").attr("disabled",true);c(".dataTable tbody").on("click","tr",function(){c("#wpsi-delete-selected").attr("disabled",true);if(c(this).hasClass("wpsi-selected")){c(this).removeClass("wpsi-selected")}else{c(this).addClass("wpsi-selected")}var g=c(this).closest(".search-insights-table").find(".dataTable");g.find(".wpsi-selected").each(function(){c("#wpsi-delete-selected").attr("disabled",false)})});c(document).on("click","#wpsi-delete-selected",function(){var g=[];c(".dataTable").each(function(){var h=c(this);h.find(".wpsi-selected").each(function(){var i=c(this);g.push(c(this).find(".wpsi-term").data("term_id"));i.css("background-color","#d7263d2e")})});c.ajax({type:"POST",url:wpsi.ajaxurl,dataType:"json",data:({action:"wpsi_delete_terms",term_ids:JSON.stringify(g),token:wpsi.token}),success:function(h){c(".dataTable").each(function(){var i=c(this);i.find(".wpsi-selected").each(function(){var j=c(this);j.remove()})});c("#wpsi-delete-selected").attr("disabled",true)}})})});